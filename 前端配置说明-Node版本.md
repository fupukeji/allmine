# å‰ç«¯é…ç½®è¯´æ˜ - Node.jsåç«¯ç‰ˆæœ¬

## âœ… å·²å®Œæˆçš„è°ƒæ•´

### 1. **æ— éœ€ä¿®æ”¹å‰ç«¯ä»£ç **
ç”±äºNode.jsåç«¯å®Œå…¨éµå¾ªåŸPythonåç«¯çš„APIè§„èŒƒï¼Œå‰ç«¯ä»£ç **æ— éœ€ä»»ä½•ä¿®æ”¹**å³å¯æ­£å¸¸å·¥ä½œã€‚

### 2. **ä»£ç†é…ç½®å·²å°±ç»ª**
`vite.config.js` å·²é…ç½®APIä»£ç†ï¼š
```javascript
proxy: {
  '/api': {
    target: 'http://localhost:5000',
    changeOrigin: true,
  }
}
```

### 3. **è¯·æ±‚é…ç½®å·²å®Œæˆ**
`frontend/src/utils/request.js` é…ç½®ï¼š
- âœ… baseURL: `/api`
- âœ… è‡ªåŠ¨æ·»åŠ  Bearer Token
- âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†
- âœ… 401è‡ªåŠ¨è·³è½¬ç™»å½•
- âœ… 60ç§’è¶…æ—¶ï¼ˆAIæŠ¥å‘Šç”Ÿæˆï¼‰

## ğŸ“‹ APIå…¼å®¹æ€§è¯´æ˜

### Nodeåç«¯å®Œå…¨å…¼å®¹ä»¥ä¸‹APIå“åº”æ ¼å¼ï¼š

```javascript
// æˆåŠŸå“åº”
{
  "code": 200,
  "data": { ... }
}

// å¸¦æ¶ˆæ¯çš„æˆåŠŸå“åº”
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": { ... }
}

// é”™è¯¯å“åº”
{
  "code": 400/401/403/404/500,
  "message": "é”™è¯¯æè¿°"
}
```

## ğŸš€ å¯åŠ¨æ–¹å¼

### å¼€å‘ç¯å¢ƒ
```bash
# å¯åŠ¨Node.jsåç«¯ï¼ˆç»ˆç«¯1ï¼‰
cd backend-node
npm install
npm run migrate  # é¦–æ¬¡è¿è¡Œéœ€è¦åˆå§‹åŒ–æ•°æ®åº“
node server.js

# å¯åŠ¨å‰ç«¯ï¼ˆç»ˆç«¯2ï¼‰
cd frontend
npm install
npm run dev
```

è®¿é—®ï¼šhttp://localhost:3000

### ç”Ÿäº§ç¯å¢ƒ
```bash
# ä½¿ç”¨ä¸€é”®å¯åŠ¨è„šæœ¬
./start_production_node.sh
```

## ğŸ”§ å·²ä¿®å¤çš„é—®é¢˜

### è·¯ç”±å†²çªä¿®å¤
**é—®é¢˜**ï¼š`/api/assets/statistics` è¢« `/api/assets/:id` åŒ¹é…å¯¼è‡´500é”™è¯¯

**è§£å†³**ï¼šè°ƒæ•´è·¯ç”±é¡ºåºï¼Œå°†å…·ä½“è·¯ç”±æ”¾åœ¨é€šé…è·¯ç”±ä¹‹å‰
```javascript
// âœ… æ­£ç¡®é¡ºåº
router.get('/assets/statistics', ...)  // å…·ä½“è·¯ç”±åœ¨å‰
router.get('/assets', ...)
router.post('/assets', ...)
router.get('/assets/:id', ...)         // é€šé…è·¯ç”±åœ¨å
```

## ğŸ“Š ç«¯å£é…ç½®

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|-----|------|------|
| Node.jsåç«¯ | 5000 | APIæœåŠ¡ |
| Reactå‰ç«¯ | 3000 | Viteå¼€å‘æœåŠ¡å™¨ |
| PostgreSQL | 1432 | é˜¿é‡Œäº‘RDS |

## ğŸ” è®¤è¯æµç¨‹

1. ç”¨æˆ·ç™»å½• â†’ åç«¯è¿”å›JWT Token
2. å‰ç«¯å­˜å‚¨Tokenåˆ°localStorage
3. æ¯æ¬¡è¯·æ±‚è‡ªåŠ¨æ·»åŠ  `Authorization: Bearer <token>`
4. Tokenè¿‡æœŸè‡ªåŠ¨è·³è½¬ç™»å½•é¡µ

## ğŸ¯ é»˜è®¤ç®¡ç†å‘˜è´¦å·

- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`admin123`
- é‚®ç®±ï¼š`admin@timevalue.com`

**âš ï¸ ç”Ÿäº§ç¯å¢ƒè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼**

## ğŸ“¦ å‰ç«¯ä¾èµ–

å‰ç«¯ä¿æŒä¸å˜ï¼Œä¸»è¦ä¾èµ–ï¼š
- React 18.2.0
- Ant Design 5.12.8
- Axios 1.6.0
- React Router 6.20.0
- ECharts 6.0.0
- Day.js 1.11.10

## ğŸ” æ•…éšœæ’æŸ¥

### å‰ç«¯æ— æ³•è¿æ¥åç«¯
1. æ£€æŸ¥åç«¯æ˜¯å¦å¯åŠ¨ï¼š`http://localhost:5000/api/auth/verify`
2. æ£€æŸ¥ä»£ç†é…ç½®ï¼š`vite.config.js`
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### APIè¿”å›401é”™è¯¯
1. æ£€æŸ¥Tokenæ˜¯å¦è¿‡æœŸ
2. é‡æ–°ç™»å½•è·å–æ–°Token
3. æ£€æŸ¥æµè§ˆå™¨localStorageæ˜¯å¦å­˜å‚¨Token

### APIè¿”å›500é”™è¯¯
1. æ£€æŸ¥åç«¯ç»ˆç«¯æ—¥å¿—
2. æ£€æŸ¥æ•°æ®åº“è¿æ¥æ˜¯å¦æ­£å¸¸
3. æ£€æŸ¥è¯·æ±‚å‚æ•°æ ¼å¼

## ğŸ“ å¼€å‘æ³¨æ„äº‹é¡¹

### å‰ç«¯è°ƒç”¨ç¤ºä¾‹
```javascript
import { request } from '@/utils/request'

// GETè¯·æ±‚
const data = await request.get('/projects')

// POSTè¯·æ±‚
const result = await request.post('/projects', {
  name: 'é¡¹ç›®åç§°',
  total_amount: 10000,
  // ...
})

// PUTè¯·æ±‚
await request.put(`/projects/${id}`, { name: 'æ–°åç§°' })

// DELETEè¯·æ±‚
await request.delete(`/projects/${id}`)
```

### æ—¥æœŸæ ¼å¼
- å‰ç«¯ä½¿ç”¨ Day.js
- åç«¯ä½¿ç”¨ Day.js
- æ•°æ®åº“ä½¿ç”¨ TIMESTAMP
- æ ¼å¼ï¼š`YYYY-MM-DD` æˆ– `YYYY-MM-DD HH:mm:ss`

## ğŸ‰ è¿ç§»ä¼˜åŠ¿

1. âœ… **ç»Ÿä¸€æŠ€æœ¯æ ˆ**ï¼šå‰åç«¯éƒ½æ˜¯JavaScript
2. âœ… **éƒ¨ç½²ç®€å•**ï¼šæ— éœ€Pythonç¯å¢ƒ
3. âœ… **æ€§èƒ½ä¼˜ç§€**ï¼šNode.jså¼‚æ­¥I/O
4. âœ… **ç»´æŠ¤æ–¹ä¾¿**ï¼šå…¨æ ˆå¼€å‘æ•ˆç‡é«˜
5. âœ… **APIå…¼å®¹**ï¼šå‰ç«¯é›¶æ”¹åŠ¨
6. âœ… **æ•°æ®åº“å‡çº§**ï¼šSQLite â†’ PostgreSQLï¼ˆç”Ÿäº§çº§ï¼‰

---

ğŸ’° **æ’äº§ç”Ÿé‡‘ - è®©æ¯ä¸€ä»½èµ„äº§éƒ½åˆ›é€ ä»·å€¼**
ğŸ¢ Powered by å­šæ™®ç§‘æŠ€ï¼ˆåŒ—äº¬ï¼‰æœ‰é™å…¬å¸
